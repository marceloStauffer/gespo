<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/styleform.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="icon" href="favicon_peixe.png" />
    <title>Gespo'App / Receitas</title>
  </head>
  <body>
    <main>
      <header style="justify-content: space-between">
        <div class="dropdown">
          <button class="dropbtn"><i class="fas fa-bars"></i></button>
          <div class="dropdown-content">
            <a href="index.html">Início</a>
            <a href="produtor.html">Produtor</a>
            <a href="producao.html">Produção</a>
            <a href="receitas.html">Receitas</a>
            <a href="despesas.html">Despesas</a>
            <a href="patrimonio.html">Patrimônio</a>
            <a href="relatorios.html">Relatórios</a>
            <a href="consolidado.html">Consolidado</a>
            <a href="documentos.html">Documentos</a>
          </div>
        </div>
        <h3>Receitas</h3>
        <div style="width: 40px"></div>
        <!-- Espaçador para manter o título centralizado -->
      </header>
      <section style="display: flex; justify-content: space-between">
        <div>
          <a href="producao.html" target="_self"
            ><button id="botao-form">← ANTERIOR</button></a
          >
        </div>
        <div>
          <a href="despesas.html" target="_self"
            ><button id="botao-form">PRÓXIMA →</button></a
          >
        </div>
      </section>
      <section>
        <form action="sucesso.html" method="get">
          <fieldset>
            <legend>Receita</legend>

            <label for="recData">Data da receita:</label>
            <input id="recData" type="date" name="receitasData" />
            <br />

            <label for="recDescricao">Descrição:</label>
            <input
              id="recDescricao"
              type="text"
              name="receitasDescricao"
              required
            />
            <br />

            <label for="recGrupo">Grupo:</label>
            <select id="recGrupo" name="receitasGrupo">
              <option value="notInformed">
                Selecione o grupo da receita...
              </option>
              <option value="recGrupoPeixes">Venda de peixes</option>
              <option value="recGrupoPlantas">
                Venda de plantas aquáticas
              </option>
              <option value="recGrupoInsumos">
                Venda de insumos e produtos
              </option>
              <option value="recGrupoServicos">Prestação de serviços</option>
              <option value="recGrupoOutras">Outras receitas</option>
            </select>
            <br />

            <label for="recSubgrupo">Subgrupo:</label>
            <select id="recSubgrupo" name="receitasSubgrupo">
              <option value="notInformed">
                Selecione o subgrupo da receita...
              </option>
            </select>
            <br />

            <label for="recQuant">Quantidade:</label>
            <input
              element.defaultValue="1"
              id="recQuant"
              type="number"
              name="receitasQuant"
              required
            />
            <br />

            <label for="recValor">Valor total:</label>
            <input id="recValor" type="number" name="receitasValor" />
            <br />

            <label for="recObs">Obs.:</label>
            <input id="recObs" type="text" name="receitasObs" />
          </fieldset>
          <br />
          <button type="submit">Enviar</button>
          <button type="reset">Limpar</button>
        </form>
      </section>
    </main>
    <script>
      const subgrupos = {
        recGrupoPeixes: [
          { value: "recSubgrupoAdultos", text: "Peixes adultos" },
          { value: "recSubgrupoAlevinos", text: "Alevinos" },
          { value: "recSubgrupoMatrizes", text: "Matrizes/Reprodutores" },
          { value: "recSubgrupoOutros", text: "Outros peixes" },
        ],
        recGrupoPlantas: [
          { value: "recSubgrupoMudas", text: "Mudas" },
          { value: "recSubgrupoCarpete", text: "Carpetes" },
          { value: "recSubgrupoVasos", text: "Plantas em vasos" },
        ],
        recGrupoInsumos: [
          { value: "recSubgrupoAlimentacao", text: "Alimentação" },
          {
            value: "recSubgrupoCondicionadores",
            text: "Condicionadores e medicamentos",
          },
          {
            value: "recSubgrupoEquipamentos",
            text: "Equipamentos e acessórios",
          },
          { value: "recSubgrupoAquarios", text: "Aquários e terrários" },
        ],
        recGrupoServicos: [
          { value: "recSubgrupoConsultoria", text: "Consultoria e projetos" },
          { value: "recSubgrupoManutencao", text: "Manutenção" },
          { value: "recSubgrupoTreinamento", text: "Treinamentos e mentorias" },
        ],
        recGrupoOutras: [
          {
            value: "recSubgrupoResiduos",
            text: "Venda de resíduos / subprodutos",
          },
          { value: "recSubgrupoFretes", text: "Fretes e entregas" },
          { value: "recSubgrupoRecfin", text: "Rec. financeiras" },
          { value: "recSubgrupoRecoutras", text: "Outras receitas" },
        ],
      };

      const grupoSelect = document.getElementById("recGrupo");
      const subgrupoSelect = document.getElementById("recSubgrupo");

      grupoSelect.addEventListener("change", function () {
        const grupoSelecionado = this.value;

        subgrupoSelect.innerHTML =
          '<option value="notInformed">Selecione o subgrupo da receita...</option>';

        if (subgrupos[grupoSelecionado]) {
          subgrupos[grupoSelecionado].forEach((sub) => {
            const option = document.createElement("option");
            option.value = sub.value;
            option.textContent = sub.text;
            subgrupoSelect.appendChild(option);
          });
        }
      });
    </script>
  </body>
</html>
